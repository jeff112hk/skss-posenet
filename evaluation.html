<html>

<head>
    <meta charset="UTF-8">
    <title>Evaluation</title>

    <!-- <script src="p5.min.js"></script>
    <script src="p5.dom.min.js"></script>
    <script src="ml5.min.js" type="text/javascript"></script> -->
    <script src="popper.min.js" type="text/javascript"></script>
    <script src="js/bootstrap.bundle.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Playfair&#43;Display:700,900&amp;display=swap" rel="stylesheet">
    <link href="own.css" rel="stylesheet">

</head>

<body class="screenbg">
    <div class="container">
        <header class="blog-header py-5" style="background-color: #f9f9f9;">
            <div class="row flex-nowrap justify-content-between align-items-center mx-3">
                <div class="col-4 pt-1">
                    <a class="link-secondary customFontSizeLarge" href="./home.html">回到首頁</a>
                </div>
                <div class="col-4 text-center">
                    <a class="blog-header-logo text-dark customFontSizeLarge" href="#">分數</a>
                </div>
                <div class="col-4 d-flex justify-content-end align-items-center">
                    <a class="btn btn-sm btn-outline-secondary customFontSizeLarge" id="nextStepHref" href="#">下一步</a>
                </div>
            </div>
        </header>
    </div>

    <!-- <main class="container" style="padding-top: 200px;">

    </main> -->

    <main class="container text-center py-5" style="display: table; height: 100%" id="mainContainer">
        <div style="display: table-cell; vertical-align: middle;">
            <div>
                <img id="star1" class="img-fluid rounded" src="./assets/star.png" alt="star">
                <img id="star2" class="img-fluid rounded" style="display: none;" src="./assets/star.png" alt="star">
                <img id="star3" class="img-fluid rounded" style="display: none;" src="./assets/star.png" alt="star">
            </div>
            <div class="p-4 mb-3 rounded mt-5" style="background-color: #f4f5dc;">
                <h4 class="font-italic customFontSizeLarge">加油 !!!</h4>
            </div>
        </div>
    </main>

    <footer class="blog-footer mt-4">
        <p>
            <!-- <a href="#">Back to top</a> -->
        </p>
    </footer>
    <script>
        function initByStep() {
            let step = sessionStorage.getItem('step');
            if (step == null) {
                //return home
                console.log('step = null')
                window.location.href = "./home.html";
                return
            }

            let score = sessionStorage.getItem('resultStep' + String(step));
            if (score == null) {
                //return home
                console.log('score = null')
                console.log(step)
                window.location.href = "./home.html";
                return
            }
            score = score.split(',')
            score = Math.max(parseInt(score[0]), parseInt(score[1]))
                // score = 6

            if (score > 2) {
                document.getElementById('star2').style.display = 'inline-block';
            }
            if (score > 5) {
                document.getElementById('star3').style.display = 'inline-block';
            }

            let nextStep = parseInt(step) + 1
            let nextBtn = document.getElementById("nextStepHref")
            if (nextStep > 4) {
                nextBtn.href = "./email.html"
            } else {

                nextBtn.href = "./demo.html"
            }

            nextBtn.addEventListener("click", () => {
                sessionStorage.setItem('step', nextStep);
            }, false);
        }
        initByStep();
    </script>
</body>

</html>
